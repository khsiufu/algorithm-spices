

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11.1. Order-agnostic Binary Search (easy) &mdash; Algorithm Spices  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="12. Bitwise XOR" href="../bitwise_xor.html" />
    <link rel="prev" title="11. Modified Binary Search" href="../modified_binary_search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Algorithm Spices
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../preface.html">Preface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Patterns for Coding Questions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../sliding_window.html">1. Sliding Window</a></li>
<li class="toctree-l2"><a class="reference internal" href="../two_points.html">2. Two Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fast_and_slow_pointers.html">3. Fast &amp; Slow pointers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../merge_intervals.html">4. Merge Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cyclic_sort.html">5. Cyclic Sort</a></li>
<li class="toctree-l2"><a class="reference internal" href="../in-place_reversal_of_a_linkedlist.html">6. In-place Reversal of a LinkedList</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tree_breadth_first_search.html">7. Tree Breadth First Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tree_depth_first_search.html">8. Tree Depth First Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../two_heaps.html">9. Two Heaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subsets.html">10. Subsets</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../modified_binary_search.html">11. Modified Binary Search</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">11.1. Order-agnostic Binary Search (easy)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ceiling-of-a-number-medium">11.2. Ceiling of a Number (medium)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#next-letter-medium">11.3. Next Letter (medium)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#number-range-medium">11.4. Number Range (medium)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#search-in-a-sorted-infinite-array-medium">11.5. Search in a Sorted Infinite Array (medium)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#minimum-difference-element-medium">11.6. Minimum Difference Element (medium)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bitonic-array-maximum-easy">11.7. Bitonic Array Maximum (easy)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#problem-challenge-1-search-bitonic-array-medium">11.8. Problem Challenge 1 - Search Bitonic Array (medium)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#problem-challenge-2-search-in-rotated-array-medium">11.9. Problem Challenge 2 - Search in Rotated Array (medium)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#problem-challenge-3-rotation-count-medium">11.10. Problem Challenge 3 - Rotation Count (medium)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bitwise_xor.html">12. Bitwise XOR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../top_k_elements.html">13. Top ‘K’ Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../k-way_merge.html">14. K-way merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0_1_knapsack_dynamic_programming.html">15. 0/1 Knapsack (Dynamic Programming)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topological_sort_graph.html">16. Topological Sort (Graph)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscellaneous.html">17. Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../leetcode_tags/index.html">LeetCode Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../leetcode_template/index.html">LeetCode Template</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Algorithm Spices</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Patterns for Coding Questions</a> &raquo;</li>
        
          <li><a href="../modified_binary_search.html"><span class="section-number">11. </span>Modified Binary Search</a> &raquo;</li>
        
      <li><span class="section-number">11.1. </span>Order-agnostic Binary Search (easy)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/patterns_for_coding_questions/modified_binary_search/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="order-agnostic-binary-search-easy">
<h1><span class="section-number">11.1. </span>Order-agnostic Binary Search (easy)<a class="headerlink" href="#order-agnostic-binary-search-easy" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Statement</span>
<span class="sd">Given a sorted array of numbers, find if a given number ‘key’ is present in the array. Though we know that the array is sorted, we don’t know if it’s sorted in ascending or descending order. You should assume that the array can have duplicates.</span>
<span class="sd">Write a function to return the index of the ‘key’ if it is present in the array, otherwise return -1.</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [4, 6, 10], key = 10</span>
<span class="sd">Output: 2</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [1, 2, 3, 4, 5, 6, 7], key = 5</span>
<span class="sd">Output: 4</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [10, 6, 4], key = 10</span>
<span class="sd">Output: 0</span>
<span class="sd">Example 4:</span>
<span class="sd">Input: [10, 6, 4], key = 4</span>
<span class="sd">Output: 2</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="c1"># mycode</span>
<span class="k">def</span> <span class="nf">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">index</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">index</span>

    <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">index</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">index</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">binary_search</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">binary_search</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">5</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">binary_search</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">binary_search</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">4</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="c1"># answer</span>
<span class="k">def</span> <span class="nf">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">isAscending</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="c1"># calculate the middle of the current range</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">mid</span>

        <span class="k">if</span> <span class="n">isAscending</span><span class="p">:</span>  <span class="c1"># ascending order</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># the &#39;key&#39; can be in the first half</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># key &gt; arr[mid]</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># the &#39;key&#39; can be in the second half</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># descending order</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># the &#39;key&#39; can be in the first half</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># key &lt; arr[mid]</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># the &#39;key&#39; can be in the second half</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>  <span class="c1"># element not found</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">binary_search</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">binary_search</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">5</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">binary_search</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">binary_search</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">4</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">Since, we are reducing the search range by half at every step,</span>
<span class="sd">this means that the time complexity of our algorithm will be O(logN) where ‘N’ is the total elements in the given array.</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="ceiling-of-a-number-medium">
<h1><span class="section-number">11.2. </span>Ceiling of a Number (medium)<a class="headerlink" href="#ceiling-of-a-number-medium" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Statement #</span>
<span class="sd">Given an array of numbers sorted in an ascending order, find the ceiling of a given number ‘key’. The ceiling of the ‘key’ will be the smallest element in the given array greater than or equal to the ‘key’.</span>
<span class="sd">Write a function to return the index of the ceiling of the ‘key’. If there isn’t any ceiling return -1.</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [4, 6, 10], key = 6</span>
<span class="sd">Output: 1</span>
<span class="sd">Explanation: The smallest number greater than or equal to &#39;6&#39; is &#39;6&#39; having index &#39;1&#39;.</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [1, 3, 8, 10, 15], key = 12</span>
<span class="sd">Output: 4</span>
<span class="sd">Explanation: The smallest number greater than or equal to &#39;12&#39; is &#39;15&#39; having index &#39;4&#39;.</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [4, 6, 10], key = 17</span>
<span class="sd">Output: -1</span>
<span class="sd">Explanation: There is no number greater than or equal to &#39;17&#39; in the given array.</span>
<span class="sd">Example 4:</span>
<span class="sd">Input: [4, 6, 10], key = -1</span>
<span class="sd">Output: 0</span>
<span class="sd">Explanation: The smallest number greater than or equal to &#39;-1&#39; is &#39;4&#39; having index &#39;0&#39;.</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="c1"># mycode</span>
<span class="k">def</span> <span class="nf">search_ceiling_of_a_number</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]:</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mid</span>

        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">start</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_ceiling_of_a_number</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">6</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_ceiling_of_a_number</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="mi">12</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_ceiling_of_a_number</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">17</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_ceiling_of_a_number</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="c1"># answer</span>
<span class="k">def</span> <span class="nf">search_ceiling_of_a_number</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>  <span class="c1"># if the &#39;key&#39; is bigger than the biggest element</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># found the key</span>
            <span class="k">return</span> <span class="n">mid</span>

    <span class="c1"># since the loop is running until &#39;start &lt;= end&#39;, so at the end of the while loop, &#39;start == end+1&#39;</span>
    <span class="c1"># we are not able to find the element in the given array, so the next big number will be arr[start]</span>
    <span class="k">return</span> <span class="n">start</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_ceiling_of_a_number</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">6</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_ceiling_of_a_number</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="mi">12</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_ceiling_of_a_number</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">17</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_ceiling_of_a_number</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">Since we are reducing the search range by half at every step,</span>
<span class="sd">this means that the time complexity of our algorithm will be O(logN) where ‘N’ is the total elements in the given array.</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Similar Problems</span>
<span class="sd">Problem 1</span>
<span class="sd">Given an array of numbers sorted in ascending order, find the floor of a given number ‘key’. The floor of the ‘key’ will be the biggest element in the given array smaller than or equal to the ‘key’</span>
<span class="sd">Write a function to return the index of the floor of the ‘key’. If there isn’t a floor, return -1.</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [4, 6, 10], key = 6</span>
<span class="sd">Output: 1</span>
<span class="sd">Explanation: The biggest number smaller than or equal to &#39;6&#39; is &#39;6&#39; having index &#39;1&#39;.</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [1, 3, 8, 10, 15], key = 12</span>
<span class="sd">Output: 3</span>
<span class="sd">Explanation: The biggest number smaller than or equal to &#39;12&#39; is &#39;10&#39; having index &#39;3&#39;.</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [4, 6, 10], key = 17</span>
<span class="sd">Output: 2</span>
<span class="sd">Explanation: The biggest number smaller than or equal to &#39;17&#39; is &#39;10&#39; having index &#39;2&#39;.</span>
<span class="sd">Example 4:</span>
<span class="sd">Input: [4, 6, 10], key = -1</span>
<span class="sd">Output: -1</span>
<span class="sd">Explanation: There is no number smaller than or equal to &#39;-1&#39; in the given array.</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="k">def</span> <span class="nf">search_floor_of_a_number</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>  <span class="c1"># if the &#39;key&#39; is smaller than the smallest element</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># found the key</span>
            <span class="k">return</span> <span class="n">mid</span>

    <span class="c1"># since the loop is running until &#39;start &lt;= end&#39;, so at the end of the while loop, &#39;start == end+1&#39;</span>
    <span class="c1"># we are not able to find the element in the given array, so the next smaller number will be arr[end]</span>
    <span class="k">return</span> <span class="n">end</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_floor_of_a_number</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">6</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_floor_of_a_number</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="mi">12</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_floor_of_a_number</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">17</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_floor_of_a_number</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="next-letter-medium">
<h1><span class="section-number">11.3. </span>Next Letter (medium)<a class="headerlink" href="#next-letter-medium" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Statement</span>
<span class="sd">Given an array of lowercase letters sorted in ascending order,</span>
<span class="sd">find the smallest letter in the given array greater than a given ‘key’.</span>
<span class="sd">Assume the given array is a circular list, which means that the last letter is assumed to be connected with the first letter.</span>
<span class="sd">This also means that the smallest letter in the given array is greater than the last letter of the array and is also the first letter of the array.</span>
<span class="sd">Write a function to return the next letter of the given ‘key’.</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [&#39;a&#39;, &#39;c&#39;, &#39;f&#39;, &#39;h&#39;], key = &#39;f&#39;</span>
<span class="sd">Output: &#39;h&#39;</span>
<span class="sd">Explanation: The smallest letter greater than &#39;f&#39; is &#39;h&#39; in the given array.</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [&#39;a&#39;, &#39;c&#39;, &#39;f&#39;, &#39;h&#39;], key = &#39;b&#39;</span>
<span class="sd">Output: &#39;c&#39;</span>
<span class="sd">Explanation: The smallest letter greater than &#39;b&#39; is &#39;c&#39;.</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [&#39;a&#39;, &#39;c&#39;, &#39;f&#39;, &#39;h&#39;], key = &#39;m&#39;</span>
<span class="sd">Output: &#39;a&#39;</span>
<span class="sd">Explanation: As the array is assumed to be circular, the smallest letter greater than &#39;m&#39; is &#39;a&#39;.</span>
<span class="sd">Example 4:</span>
<span class="sd">Input: [&#39;a&#39;, &#39;c&#39;, &#39;f&#39;, &#39;h&#39;], key = &#39;h&#39;</span>
<span class="sd">Output: &#39;a&#39;</span>
<span class="sd">Explanation: As the array is assumed to be circular, the smallest letter greater than &#39;h&#39; is &#39;a&#39;.</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="c1"># mycode</span>
<span class="k">def</span> <span class="nf">search_next_letter</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">letters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">&gt;=</span> <span class="n">letters</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">letters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">letters</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">letters</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">letters</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">letters</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">letters</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_next_letter</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">],</span> <span class="s1">&#39;f&#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_next_letter</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_next_letter</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">],</span> <span class="s1">&#39;m&#39;</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="c1"># answer</span>
<span class="k">def</span> <span class="nf">search_next_letter</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">letters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">letters</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">letters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">letters</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># key &gt;= letters[mid]:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="c1"># since the loop is running until &#39;start &lt;= end&#39;, so at the end of the while loop, &#39;start == end+1&#39;</span>
    <span class="k">return</span> <span class="n">letters</span><span class="p">[</span><span class="n">start</span> <span class="o">%</span> <span class="n">n</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_next_letter</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">],</span> <span class="s1">&#39;f&#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_next_letter</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_next_letter</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">],</span> <span class="s1">&#39;m&#39;</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">Since, we are reducing the search range by half at every step,</span>
<span class="sd">this means that the time complexity of our algorithm will be O(logN)O</span>
<span class="sd">where ‘N’ is the total elements in the given array.</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="number-range-medium">
<h1><span class="section-number">11.4. </span>Number Range (medium)<a class="headerlink" href="#number-range-medium" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Statement</span>
<span class="sd">Given an array of numbers sorted in ascending order, find the range of a given number ‘key’. The range of the ‘key’ will be the first and last position of the ‘key’ in the array.</span>
<span class="sd">Write a function to return the range of the ‘key’. If the ‘key’ is not present return [-1, -1].</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [4, 6, 6, 6, 9], key = 6</span>
<span class="sd">Output: [1, 3]</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [1, 3, 8, 10, 15], key = 10</span>
<span class="sd">Output: [3, 3]</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [1, 3, 8, 10, 15], key = 12</span>
<span class="sd">Output: [-1, -1]</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="c1"># mycode</span>
<span class="k">def</span> <span class="nf">find_range</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">findMax</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="n">keyIndex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">keyIndex</span> <span class="o">=</span> <span class="n">mid</span>
            <span class="k">if</span> <span class="n">findMax</span><span class="p">:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">keyIndex</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_range</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">6</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_range</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_range</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="mi">12</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="c1"># answer</span>
<span class="k">def</span> <span class="nf">find_range</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">[</span>
            <span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>  <span class="c1"># no need to search, if &#39;key&#39; is not present in the input array</span>
        <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="c1"># modified Binary Search</span>
<span class="k">def</span> <span class="nf">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">findMaxIndex</span><span class="p">):</span>
    <span class="n">keyIndex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># key == arr[mid]</span>
            <span class="n">keyIndex</span> <span class="o">=</span> <span class="n">mid</span>
            <span class="k">if</span> <span class="n">findMaxIndex</span><span class="p">:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># search ahead to find the last index of &#39;key&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># search behind to find the first index of &#39;key&#39;</span>

    <span class="k">return</span> <span class="n">keyIndex</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_range</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">6</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_range</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_range</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="mi">12</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">Since, we are reducing the search range by half at every step, this means that the time complexity of our algorithm</span>
<span class="sd">will be O(logN) where ‘N’ is the total elements in the given array.</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="search-in-a-sorted-infinite-array-medium">
<h1><span class="section-number">11.5. </span>Search in a Sorted Infinite Array (medium)<a class="headerlink" href="#search-in-a-sorted-infinite-array-medium" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Statement</span>
<span class="sd">Given an infinite sorted array (or an array with unknown size),</span>
<span class="sd">find if a given number ‘key’ is present in the array.</span>
<span class="sd">Write a function to return the index of the ‘key’ if it is present in the array, otherwise return -1.</span>
<span class="sd">Since it is not possible to define an array with infinite (unknown) size,</span>
<span class="sd"> you will be provided with an interface ArrayReader to read elements of the array.</span>
<span class="sd"> ArrayReader.get(index) will return the number at index;</span>
<span class="sd"> if the array’s size is smaller than the index, it will return Integer.MAX_VALUE.</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30], key = 16</span>
<span class="sd">Output: 6</span>
<span class="sd">Explanation: The key is present at index &#39;6&#39; in the array.</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30], key = 11</span>
<span class="sd">Output: -1</span>
<span class="sd">Explanation: The key is not present in the array.</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [1, 3, 8, 10, 15], key = 15</span>
<span class="sd">Output: 4</span>
<span class="sd">Explanation: The key is present at index &#39;4&#39; in the array.</span>
<span class="sd">Example 4:</span>
<span class="sd">Input: [1, 3, 8, 10, 15], key = 200</span>
<span class="sd">Output: -1</span>
<span class="sd">Explanation: The key is not present in the array.</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="c1"># mycode</span>
<span class="kn">import</span> <span class="nn">math</span>


<span class="k">class</span> <span class="nc">ArrayReader</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arr</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arr</span> <span class="o">=</span> <span class="n">arr</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arr</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">inf</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">arr</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">arr</span><span class="p">)</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">reader</span><span class="o">.</span><span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">reader</span><span class="o">.</span><span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mid</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">ArrayReader</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">30</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">ArrayReader</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>

<span class="c1"># answer</span>
<span class="kn">import</span> <span class="nn">math</span>


<span class="k">class</span> <span class="nc">ArrayReader</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arr</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arr</span> <span class="o">=</span> <span class="n">arr</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arr</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">inf</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">arr</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="c1"># find the proper bounds first</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">reader</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">end</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
        <span class="n">newStart</span> <span class="o">=</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">end</span> <span class="o">+=</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span>
        <span class="c1"># increase to double the bounds size</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">newStart</span>

    <span class="k">return</span> <span class="n">binary_search</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">binary_search</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">reader</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mid</span><span class="p">):</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">reader</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mid</span><span class="p">):</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># found the key</span>
            <span class="k">return</span> <span class="n">mid</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">ArrayReader</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">30</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">ArrayReader</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_in_infinite_array</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">There are two parts of the algorithm. In the first part,</span>
<span class="sd">we keep increasing the bound’s size exponentially (double it every time) while searching for the proper bounds.</span>
<span class="sd">Therefore, this step will take O(logN) assuming that the array will have maximum ‘N’ numbers.</span>
<span class="sd">In the second step, we perform the binary search which will take O(logN),</span>
<span class="sd">so the overall time complexity of our algorithm will be O(logN + logN)</span>
<span class="sd">which is asymptotically equivalent to O(logN).</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="minimum-difference-element-medium">
<h1><span class="section-number">11.6. </span>Minimum Difference Element (medium)<a class="headerlink" href="#minimum-difference-element-medium" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Statement</span>
<span class="sd">Given an array of numbers sorted in ascending order,</span>
<span class="sd">find the element in the array that has the minimum difference with the given ‘key’.</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [4, 6, 10], key = 7</span>
<span class="sd">Output: 6</span>
<span class="sd">Explanation: The difference between the key &#39;7&#39; and &#39;6&#39; is minimum than any other number in the array</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [4, 6, 10], key = 4</span>
<span class="sd">Output: 4</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [1, 3, 8, 10, 15], key = 12</span>
<span class="sd">Output: 10</span>
<span class="sd">Example 4:</span>
<span class="sd">Input: [4, 6, 10], key = 17</span>
<span class="sd">Output: 10</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="c1"># mycode</span>
<span class="k">def</span> <span class="nf">search_min_diff_element</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;=</span> <span class="n">arr</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span>

    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">-</span> <span class="n">key</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]</span> <span class="o">-</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_min_diff_element</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">7</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_min_diff_element</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">4</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_min_diff_element</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="mi">12</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_min_diff_element</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">17</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="c1"># answer</span>
<span class="k">def</span> <span class="nf">search_min_diff_element</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span>

    <span class="c1"># at the end of the while loop, &#39;start == end+1&#39;</span>
    <span class="c1"># we are not able to find the element in the given array</span>
    <span class="c1"># return the element which is closest to the &#39;key&#39;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">-</span> <span class="n">key</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">key</span> <span class="o">-</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]):</span>
        <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_min_diff_element</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">7</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_min_diff_element</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">4</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_min_diff_element</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="mi">12</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_min_diff_element</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="mi">17</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">Since, we are reducing the search range by half at every step,</span>
<span class="sd">this means the time complexity of our algorithm will be O(logN)</span>
<span class="sd">where ‘N’ is the total elements in the given array.</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="bitonic-array-maximum-easy">
<h1><span class="section-number">11.7. </span>Bitonic Array Maximum (easy)<a class="headerlink" href="#bitonic-array-maximum-easy" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Statement</span>
<span class="sd">Find the maximum value in a given Bitonic array. An array is considered bitonic if it is monotonically increasing and then monotonically decreasing. Monotonically increasing or decreasing means that for any index i in the array arr[i] != arr[i+1].</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [1, 3, 8, 12, 4, 2]</span>
<span class="sd">Output: 12</span>
<span class="sd">Explanation: The maximum number in the input bitonic array is &#39;12&#39;.</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [3, 8, 3, 1]</span>
<span class="sd">Output: 8</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [1, 3, 8, 12]</span>
<span class="sd">Output: 12</span>
<span class="sd">Example 4:</span>
<span class="sd">Input: [10, 9, 8]</span>
<span class="sd">Output: 10</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="c1"># mycode</span>
<span class="k">def</span> <span class="nf">find_max_in_bitonic_array</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">mid</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">mid</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">mid</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_max_in_bitonic_array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_max_in_bitonic_array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_max_in_bitonic_array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_max_in_bitonic_array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">]))</span>


<span class="n">main</span><span class="p">()</span>


<span class="c1"># answer</span>
<span class="k">def</span> <span class="nf">find_max_in_bitonic_array</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="c1"># at the end of the while loop, &#39;start == end&#39;</span>
    <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_max_in_bitonic_array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_max_in_bitonic_array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_max_in_bitonic_array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_max_in_bitonic_array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">]))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">Since we are reducing the search range by half at every step,</span>
<span class="sd">this means that the time complexity of our algorithm will be O(logN)</span>
<span class="sd">where ‘N’ is the total elements in the given array.</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="problem-challenge-1-search-bitonic-array-medium">
<h1><span class="section-number">11.8. </span>Problem Challenge 1 - Search Bitonic Array (medium)<a class="headerlink" href="#problem-challenge-1-search-bitonic-array-medium" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Challenge 1</span>
<span class="sd">Search Bitonic Array (medium)</span>
<span class="sd">Given a Bitonic array, find if a given ‘key’ is present in it.</span>
<span class="sd">An array is considered bitonic if it is monotonically increasing and then monotonically decreasing.</span>
<span class="sd">Monotonically increasing or decreasing means that for any index i in the array arr[i] != arr[i+1].</span>
<span class="sd">Write a function to return the index of the ‘key’. If the ‘key’ is not present, return -1.</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [1, 3, 8, 4, 3], key=4</span>
<span class="sd">Output: 3</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [3, 8, 3, 1], key=8</span>
<span class="sd">Output: 1</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [1, 3, 8, 12], key=12</span>
<span class="sd">Output: 3</span>
<span class="sd">Example 4:</span>
<span class="sd">Input: [10, 9, 8], key=10</span>
<span class="sd">Output: 0</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="c1"># mycode</span>
<span class="k">def</span> <span class="nf">search_bitonic_array</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="n">maxIndex</span> <span class="o">=</span> <span class="n">search_maximum</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">maxIndex</span><span class="p">]:</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">maxIndex</span>

    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mid</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">maxIndex</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mid</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


<span class="k">def</span> <span class="nf">search_maximum</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span>

    <span class="k">return</span> <span class="n">start</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_bitonic_array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">4</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_bitonic_array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">8</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_bitonic_array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="mi">12</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_bitonic_array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="c1"># answer</span>
<span class="k">def</span> <span class="nf">search_bitonic_array</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="n">maxIndex</span> <span class="o">=</span> <span class="n">find_max</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
    <span class="n">keyIndex</span> <span class="o">=</span> <span class="n">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">maxIndex</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">keyIndex</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">keyIndex</span>
    <span class="k">return</span> <span class="n">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">maxIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>


<span class="c1"># find index of the maximum value in a bitonic array</span>
<span class="k">def</span> <span class="nf">find_max</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="c1"># at the end of the while loop, &#39;start == end&#39;</span>
    <span class="k">return</span> <span class="n">start</span>


<span class="c1"># order-agnostic binary search</span>
<span class="k">def</span> <span class="nf">binary_search</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">mid</span>

        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]:</span>  <span class="c1"># ascending order</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># key &gt; arr[mid]</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># descending order</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># key &lt; arr[mid]</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>  <span class="c1"># element is not found</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_bitonic_array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">4</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_bitonic_array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">8</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_bitonic_array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="mi">12</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_bitonic_array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">Since we are reducing the search range by half at every step,</span>
<span class="sd">this means that the time complexity of our algorithm will be O(logN)</span>
<span class="sd">where ‘N’ is the total elements in the given array.</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="problem-challenge-2-search-in-rotated-array-medium">
<h1><span class="section-number">11.9. </span>Problem Challenge 2 - Search in Rotated Array (medium)<a class="headerlink" href="#problem-challenge-2-search-in-rotated-array-medium" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Challenge 2</span>
<span class="sd">Search in Rotated Array (medium)</span>
<span class="sd">Given an array of numbers which is sorted in ascending order and also rotated by some arbitrary number,</span>
<span class="sd">find if a given ‘key’ is present in it.</span>
<span class="sd">Write a function to return the index of the ‘key’ in the rotated array. If the ‘key’ is not present, return -1.</span>
<span class="sd">You can assume that the given array does not have any duplicates.</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [10, 15, 1, 3, 8], key = 15</span>
<span class="sd">Output: 1</span>
<span class="sd">Explanation: &#39;15&#39; is present in the array at index &#39;1&#39;.</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [4, 5, 7, 9, 10, -1, 2], key = 10</span>
<span class="sd">Output: 4</span>
<span class="sd">Explanation: &#39;10&#39; is present in the array at index &#39;4&#39;.</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="c1"># mycode</span>
<span class="k">def</span> <span class="nf">search_rotated_array</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mid</span>

        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">key</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_rotated_array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">15</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_rotated_array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="c1"># answer</span>
<span class="k">def</span> <span class="nf">search_rotated_array</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mid</span>

        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>  <span class="c1"># left side is sorted in ascending order</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;=</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="ow">and</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># key &gt; arr[mid]</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># right side is sorted in ascending order</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="ow">and</span> <span class="n">key</span> <span class="o">&lt;=</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="c1"># we are not able to find the element in the given array</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_rotated_array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">15</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_rotated_array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">Since we are reducing the search range by half at every step,</span>
<span class="sd">this means that the time complexity of our algorithm will be O(logN)</span>
<span class="sd">where ‘N’ is the total elements in the given array.</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Similar Problems</span>
<span class="sd">Problem 1</span>
<span class="sd">How do we search in a sorted and rotated array that also has duplicates?</span>
<span class="sd">The code above will fail in the following example!</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [3, 7, 3, 3, 3], key = 7</span>
<span class="sd">Output: 1</span>
<span class="sd">Explanation: &#39;7&#39; is present in the array at index &#39;1&#39;.</span>
<span class="sd">Solution</span>
<span class="sd">The only problematic scenario is when the numbers at indices start, middle, and end are the same, as in this case,</span>
<span class="sd">we can’t decide which part of the array is sorted.</span>
<span class="sd">In such a case, the best we can do is to skip one number from both ends: start = start + 1 &amp; end = end - 1.</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="k">def</span> <span class="nf">search_rotated_with_duplicates</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mid</span>

        <span class="c1"># the only difference from the previous solution,</span>
        <span class="c1"># if numbers at indexes start, mid, and end are same, we can&#39;t choose a side</span>
        <span class="c1"># the best we can do, is to skip one number from both ends as key != arr[mid]</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">end</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>  <span class="c1"># left side is sorted in ascending order</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;=</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="ow">and</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># key &gt; arr[mid]</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">else</span><span class="p">:</span>  <span class="c1"># right side is sorted in ascending order</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="ow">and</span> <span class="n">key</span> <span class="o">&lt;=</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="c1"># we are not able to find the element in the given array</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_rotated_with_duplicates</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">7</span><span class="p">))</span>


<span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="problem-challenge-3-rotation-count-medium">
<h1><span class="section-number">11.10. </span>Problem Challenge 3 - Rotation Count (medium)<a class="headerlink" href="#problem-challenge-3-rotation-count-medium" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Problem Challenge 3</span>
<span class="sd">Rotation Count (medium)</span>
<span class="sd">Given an array of numbers which is sorted in ascending order and is rotated ‘k’ times around a pivot, find ‘k’.</span>
<span class="sd">You can assume that the array does not have any duplicates.</span>
<span class="sd">Example 1:</span>
<span class="sd">Input: [10, 15, 1, 3, 8]</span>
<span class="sd">Output: 2</span>
<span class="sd">Explanation: The array has been rotated 2 times.</span>
<span class="sd">Example 2:</span>
<span class="sd">Input: [4, 5, 7, 9, 10, -1, 2]</span>
<span class="sd">Output: 5</span>
<span class="sd">Explanation: The array has been rotated 5 times.</span>
<span class="sd">Example 3:</span>
<span class="sd">Input: [1, 3, 8, 10]</span>
<span class="sd">Output: 0</span>
<span class="sd">Explanation: The array has been not been rotated.</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="c1"># mycode</span>
<span class="k">def</span> <span class="nf">count_rotations</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="c1"># TODO: Write your code here</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">mid</span> <span class="o">&gt;</span> <span class="n">start</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">mid</span>
        <span class="k">if</span> <span class="n">mid</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="mi">0</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count_rotations</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count_rotations</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count_rotations</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>


<span class="n">main</span><span class="p">()</span>


<span class="c1"># answer</span>
<span class="k">def</span> <span class="nf">count_rotations</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">:</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="c1"># if mid is greater than the next element</span>
        <span class="k">if</span> <span class="n">mid</span> <span class="o">&lt;</span> <span class="n">end</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="c1"># if mid is smaller than the previous element</span>
        <span class="k">if</span> <span class="n">mid</span> <span class="o">&gt;</span> <span class="n">start</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">mid</span>

        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span>
                <span class="n">mid</span><span class="p">]:</span>  <span class="c1"># left side is sorted, so the pivot is on right side</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># right side is sorted, so the pivot is on the left side</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="mi">0</span>  <span class="c1"># the array has not been rotated</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count_rotations</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count_rotations</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count_rotations</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>


<span class="n">main</span><span class="p">()</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Time complexity</span>
<span class="sd">This algorithm will run in O(logN) most of the times,</span>
<span class="sd">but since we only skip two numbers in case of duplicates instead of the half of the numbers,</span>
<span class="sd">therefore the worst case time complexity will become O(N).</span>
<span class="sd">Space complexity</span>
<span class="sd">The algorithm runs in constant space O(1).</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../bitwise_xor.html" class="btn btn-neutral float-right" title="12. Bitwise XOR" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../modified_binary_search.html" class="btn btn-neutral float-left" title="11. Modified Binary Search" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, XiuFu Guo

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>